@page "/"
@inject HttpClient Http
@inject ZMCache Cache
@inject NavigationManager NavigationManager

<BlocksTable MEVLiteCache=MEVLiteCache/>

@code {
    MEVLiteCache? MEVLiteCache = null;

    protected override async Task OnParametersSetAsync()
    {
        var cache = await API.GetMEVLiteCache(Http, MEVLiteCache != null ? MEVLiteCache.LastBlockNumber : -1);
        if (cache != null)
            MEVLiteCache = cache;
    }
}